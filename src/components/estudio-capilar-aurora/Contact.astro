---
import FormContact from "./FormContact.astro";
import ContactDetails from "./ContactDetails.astro";
---

<section
  id="contact-section"
  class="relative py-24 lg:py-32 bg-gray-50 dark:bg-background-dark overflow-hidden"
>
  <div
    class="absolute top-0 right-0 -translate-y-1/2 translate-x-1/2 w-[600px] h-[600px] bg-primary/5 dark:bg-primary/10 blur-[120px] rounded-full -z-10 pointer-events-none"
  >
  </div>

  <div class="container mx-auto px-6">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 lg:gap-24">
      
      <div class="flex flex-col justify-between h-full">
        
        <div class="contact-reveal opacity-0 translate-y-8 transition-all duration-1000 ease-[cubic-bezier(0.25,1,0.5,1)]">
          <span
            class="text-primary text-xs font-bold tracking-[0.25em] uppercase mb-6 block"
          >
            Contacto
          </span>
          <h2
            class="text-text-light dark:text-text-dark text-4xl sm:text-5xl font-light leading-[1.1] mb-8"
          >
            Inicia tu <br />
            <span class="font-serif italic font-medium">transformación.</span>
          </h2>
          <p
            class="text-text-light/70 dark:text-text-dark/70 text-lg font-light leading-relaxed max-w-md mb-12"
          >
            Estamos listos para diseñar tu mejor versión. Escríbenos para
            reservar una cita o resolver tus dudas sobre nuestros tratamientos.
          </p>
        </div>

        <div class="contact-reveal opacity-0 translate-y-8 transition-all duration-1000 delay-200 ease-[cubic-bezier(0.25,1,0.5,1)]">
            <ContactDetails />
        </div>
      </div>

      <div
        class="contact-reveal opacity-0 translate-y-12 transition-all duration-1000 delay-400 ease-[cubic-bezier(0.25,1,0.5,1)] bg-white dark:bg-gray-900 p-8 sm:p-12 rounded-2xl shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-800"
      >
        <FormContact />
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const section = document.getElementById("contact-section");
    
    if (section) {
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              const reveals = entry.target.querySelectorAll(".contact-reveal");
              
              reveals.forEach((el) => {
                el.classList.remove("opacity-0", "translate-y-8", "translate-y-12");
                
              });

              observer.unobserve(entry.target);
            }
          });
        },
        {
          threshold: 0.2,
          rootMargin: "0px 0px -100px 0px" 
        }
      );

      observer.observe(section);
    }
  });
</script>