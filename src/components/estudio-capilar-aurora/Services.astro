---
const services = [
  {
    title: "Coloración",
    description: "Técnicas expertas para un color vibrante y duradero.",
    icon: "palette-outline",
  },
  {
    title: "Tratamientos",
    description: "Reparación profunda para un cabello sano y brillante.",
    icon: "airwave",
  },
  {
    title: "Balayage",
    description: "Resultados naturales con técnicas a mano alzada.",
    icon: "gradient",
  },
];
---

<section class="py-20 sm:py-32 bg-card-light dark:bg-card-dark overflow-hidden">
  <div class="container mx-auto px-4 relative">
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[80%] h-[80%] bg-primary/5 dark:bg-primary/10 blur-[120px] rounded-full -z-10 pointer-events-none"></div>

    <h2 class="text-text-light dark:text-text-dark text-3xl sm:text-4xl font-bold leading-tight tracking-tight text-center mb-12 sm:mb-16 drop-shadow-sm">
      Servicios de Excelencia
    </h2>

    <ul class="grid grid-cols-1 sm:grid-cols-3 gap-8 lg:gap-10">
      {
        services.map((service, index) => (
          <li
            class="service-card opacity-0 group relative flex flex-col items-center text-center p-8 rounded-2xl
                   bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm
                   border border-gray-200/50 dark:border-gray-800/50
                   shadow-sm transition-all duration-500 ease-out
                   hover:-translate-y-2 hover:shadow-xl hover:border-primary/30 dark:hover:border-primary/30"
            style={{ animationDelay: `${index * 200}ms` }} 
          >
            <div
              class="w-24 h-24 rounded-full flex items-center justify-center mb-6
                     bg-gray-100 dark:bg-gray-800 text-primary dark:text-gray-200
                     shadow-inner ring-1 ring-gray-200/50 dark:ring-gray-700/50
                     transition-all duration-500 group-hover:scale-110 group-hover:bg-primary/10 group-hover:text-primary"
            >
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                class="w-10 h-10 transition-transform duration-500 group-hover:rotate-6 group-hover:scale-105"
                aria-hidden="true"
              >
                <use href={`/estudio-capilar-aurora-Sprite.svg#${service.icon}`} />
              </svg>
            </div>

            <h3 class="text-text-light dark:text-text-dark text-xl font-bold leading-tight mb-3 transition-colors group-hover:text-primary">
              {service.title}
            </h3>
            <p class="text-text-light/80 dark:text-text-dark/70 text-base font-normal leading-relaxed max-w-xs">
              {service.description}
            </p>
          </li>
        ))
      }
    </ul>
  </div>
</section>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fadeInUp {
    animation: fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-fadeInUp');
          observer.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: "0px 0px -50px 0px"
    });

    const cards = document.querySelectorAll('.service-card');
    cards.forEach((card) => observer.observe(card));
  });
</script>